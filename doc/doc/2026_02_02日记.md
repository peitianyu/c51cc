使用 printf '4\ntest/hex_verify.c\n' | ./build.sh 和 printf '6\ntest/hex_verify.c\n' | ./build.sh 测试

## 优化进展

### 1. SSA 常量折叠优化

**效果**：
```
# 优化前
v7: int = addr @P1
v8: int = const 255
v9: char = trunc v8
store v7, v9

# 优化后
store @P1, const 255
```

### 2. 比较链简化优化 (新增)

**模式**：`ne (eq x, 0), 0` → `trunc x`

**效果**：
```
# 优化前
v4: int = eq v2, v3      # v3 = const 0
v6: int = ne v4, v5      # v5 = const 0
br v6, b1, b2

# 优化后
v6: int = trunc v2
br v6, b1, b2
```

### 3. 汇编代码对比

**优化前**：
```asm
    mov A, 0x90
    mov r2, A
    mov 0x70, #0
    mov 0x71, #0
    mov A, 0x73
    cjne A, #0, Leq_false_0
    mov A, 0x72
    cjne A, #0, Leq_false_0
    mov r2, #1
    sjmp Leq_end_1
.label Leq_false_0
    mov r2, #0
.label Leq_end_1
    mov A, 0x75
    cjne A, #0, Lne_true_2
    mov A, 0x74
    cjne A, #0, Lne_true_2
    mov r2, #0
    sjmp Lne_end_3
.label Lne_true_2
    mov r2, #1
.label Lne_end_3
    mov A, r2
    jz Lmain_2
```

**优化后**：
```asm
    mov A, 0x90
    mov r2, A
    jz Lmain_2
```

### 4. 修复内容

- [ssa_pass.c](src/core/ssa_pass.c)：
  - 修复 `is_pure_instr` 将 `IROP_ADDR` 标记为纯指令
  - 修复 `is_value_used` 空指针检查
  - **新增 `pass_simplify_compare_chain`**：简化 `ne (eq x, 0), 0` → `trunc x`
- [c51_gen_isel.c](src/core/c51/c51_gen_isel.c)：支持优化后的 `store`/`ret` 格式
- [c51_gen_section.c](src/core/c51/c51_gen_section.c)：SFR 添加符号标记
- [c51_asm.c](src/core/c51/c51_asm.c)：输出 `.equ P1, 0x90` 格式

### 测试状态
- ✅ test.ssa_opt - SSA 优化测试通过
- ✅ test.c51_gen - C51 代码生成测试通过
